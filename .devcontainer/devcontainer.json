// See https://aka.ms/vscode-remote/containers for the
// documentation about the devcontainer.json format
{
    "name": "orleans.streaming.nats",
    "image": "surveily/developer.dotnet:6.0-sdk",
    "runArgs": [
        "-v",
        "${env:HOME}${env:USERPROFILE}/.ssh:/home/vscode/.ssh-localhost:ro",
        "-v",
        "${env:HOME}${env:USERPROFILE}/.kube:/home/vscode/.kube-localhost:ro",
        "-v",
        "/var/run/docker.sock:/var/run/docker.sock",
    ],
    "postCreateCommand": "mkdir -p ~/.ssh && cp -r ~/.ssh-localhost/* ~/.ssh && chmod 700 ~/.ssh && chmod 600 ~/.ssh/* && mkdir -p ~/.kube && cp -r ~/.kube-localhost/* ~/.kube",
    "appPort": [],
    "extensions": [
        "kosunix.guid",
        // "adpyke.codesnap",
        "eamodio.gitlens",
        // "lawrencegrant.cql",
        "k--kato.docomment",
        "redhat.vscode-yaml",
        "zxh404.vscode-proto3",
        // "ms-vscode.powershell",
        "mikeburgh.xml-format",
        "ms-dotnettools.csharp",
        "donjayamanne.githistory",
        "jchannon.csharpextensions",
        "wayou.vscode-todo-highlight",
        "ms-azuretools.vscode-docker",
        // "pflannery.vscode-versionlens",
        // "ryanluker.vscode-coverage-gutters",
        "ms-dotnettools.dotnet-interactive-vscode",
        "ms-kubernetes-tools.vscode-kubernetes-tools",
        // "tintoy.msbuild-project-tools",
    ],
    "settings": {
        "extensions.autoUpdate": false,
        "omnisharp.useGlobalMono": "never",
        "csharpextensions.privateMemberPrefix": "_",
        "csharpextensions.useThisForCtorAssignments": false,
        "files.exclude": {
            "**/CVS": true,
            "**/bin": true,
            "**/obj": true,
            "**/.hg": true,
            "**/.svn": true,
            "**/.git": true,
            "**/.DS_Store": true,
            "**/BenchmarkDotNet.Artifacts": true
        }
    },
    "shutdownAction": "stopContainer",
    "remoteUser": "vscode"
}